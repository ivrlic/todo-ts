var p=Object.defineProperty;var g=(c,e,s)=>e in c?p(c,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[e]=s;var d=(c,e,s)=>(g(c,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();class m{constructor(e="",s="",o=!1){this._id=e,this._text=s,this._checked=o}get id(){return this._id}set id(e){this._id=e}get text(){return this._text}set text(e){this._text=e}get checked(){return this._checked}set checked(e){this._checked=e}}const l=class l{constructor(e=[]){this._list=e}get list(){return this._list}addItem(e){this._list.push(e),this.save()}removeItem(e){this._list=this._list.filter(s=>s.id!==e),this.save()}clearList(){this._list=[],this.save()}save(){const e=JSON.stringify(this._list);localStorage.setItem("my-todo-list",e)}load(){const e=localStorage.getItem("my-todo-list");if(typeof e!="string")return;JSON.parse(e).forEach(o=>{const t=new m(o._id,o._text,o._checked);this.addItem(t)})}};d(l,"instance",new l);let h=l;const a=class a{constructor(){d(this,"ul");this.ul=document.getElementById("todo-list")}clearList(){this.ul.innerHTML=""}renderList(e){this.clearList(),e.list.forEach(s=>{const o=document.createElement("li");o.className="item-todo";const t=document.createElement("input");t.type="checkbox",t.className="check-todo",t.id=s.id,t.checked=s.checked,o.append(t);function n(){s.checked?(i.classList.add("checked-text"),r.classList.add("checked-del-btn")):(i.classList.remove("checked-text"),r.classList.remove("checked-del-btn"))}t.addEventListener("change",()=>{s.checked=!s.checked,n(),e.save()});const i=document.createElement("label");i.textContent=s.text,i.className="text-todo",i.htmlFor=s.id,o.append(i);const r=document.createElement("button");r.textContent="X",r.className="btn-todo",o.append(r),r.addEventListener("click",()=>{e.removeItem(s.id),this.renderList(e)}),this.ul.append(o),n()})}};d(a,"instance",new a);let u=a;function L(){const c=h.instance,e=u.instance;document.getElementById("item-form").addEventListener("submit",t=>{t.preventDefault();const n=document.getElementById("new-todo"),i=n.value.trim();if(i.length===0)return;const r=c.list.length>0?parseInt(c.list[c.list.length-1].id)+1:1,f=new m(r.toString(),i);c.addItem(f),e.renderList(c),n.value=""}),document.getElementById("btn-clear-list").addEventListener("click",()=>{c.clearList(),e.clearList()}),c.load(),e.renderList(c)}document.addEventListener("DOMContentLoaded",L);
